
# Spring 笔记

#### Spring框架概述
Spring:是一个开源,轻量级,控制反转(IoC)和面向切面(AOP)的容器框架.

[官网](https://spring.io/projects/spring-framework)
[官方文档](https://docs.spring.io/spring/docs/5.1.5.RELEASE/spring-framework-reference)
[中文文档](https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference)

#### Spring框架的优点
1. 轻量:Spring是轻量的,基本的版本大约2MB.
2. 控制反转:Spring通过控制反转实现了松散耦合,对象们给出它们的依赖,而不是创建或查找依赖的对象们.
3. 面向切面的编程(AOP):Spring支持面向切面的编程,并且把应用业务逻辑和系统服务分开.
4. 容器:Spring包含并管理应用中对象的生命周期和配置.
5. MVC框架:Spring的WEB框架是个精心设计的框架,是Web框架的一个很好的替代品.
6. 事务管理:Spring提供一个持续的事务管理接口,可以扩展到上至本地事务下至全局事务(JTA).
7. 异常处理:Spring提供方便的API把具体技术相关的异常(比如由JDBC,Hibernate or JDO抛出的)转化为一致的unchecked异常.
#### 控制反转(IOC容器)
1. IOC容器:就是具有依赖注入功能的容器,是可以创建对象的容器,IOC容器负责实例化,定位,配置应用程序中的对象及建立这些对象间的依赖.通常new一个实例,控制权由程序员控制,而"控制反转"是指new实例工作不由程序员来做而是交给Spring容器来做,在Spring中BeanFactory是IOC容器的实际代表者.
2. 依赖注入(DI):在容器创建对象后,处理对象的依赖关系.

**依赖注入spring的方式**
1. set注入方式.
2. 静态工厂注入方式.
3. 构造方法注入方式.
4. 基于注解的方式(常用).

举例:生病了,自己去药店买药和去医院看医生的区别.

#### 面向切面编程(API)
AOP:面向切面编程是实现关注点的分离的技术,系统是由许多不同的组件所组成的,每一个组件各负责一块特定功能,除了实现自身核心功能之外,这些组件还经常承担着额外的职责.例如日志、事务管理和安全这样的核心服务经常融入到自身具有核心业务逻辑的组件中去,这些系统服务经常被称为横切关注点,因为它们会跨越系统的多个组件.
1. 切面(Aspect):其实就是共有功能的实现;如日志切面,权限切面,事务切面等,在实际应用中通常是一个存放共有功能实现的普通Java类,之所以能被AOP容器识别成切面,是在配置中指定的.
2. 通知(Advice):是切面的具体实现;以目标方法为参照点,根据放置的地方不同,可分为前置通知(Before),后置通知(AfterReturning),异常通知(AfterThrowing),最终通知(After)与环绕通知(Around)5种,在实际应用中通常是切面类中的一个方法,具体属于哪类通知,同样是在配置中指定的.
3. 连接点(Joinpoint):就是程序在运行过程中能够插入切面的地点;例如,方法调用,异常抛出或字段修改等,但Spring只支持方法级的连接点.
4. 切入点(Pointcut):用于定义通知应该切入到哪些连接点上;不同的通知通常需要切入到不同的连接点上,这种精准的匹配是由切入点的正则表达式来定义的。
5. 目标对象(Target):就是那些即将切入切面的对象,也就是那些被通知的对象,这些对象中已经只剩下干干净净的核心业务逻辑代码了,所有的共有功能代码等待AOP容器的切入.
6. 代理对象(Proxy):将通知应用到目标对象之后被动态创建的对象;可以简单地理解为,代理对象的功能等于目标对象的核心业务逻辑功能加上共有功能,代理对象对于使用者而言是透明的,是程序运行过程中的产物.
7. 织入(Weaving):将切面应用到目标对象从而创建一个新的代理对象的过程;这个过程可以发生在编译期,类装载期及运行期,当然不同的发生点有着不同的前提条件.譬如发生在编译期的话,就要求有一个支持这种AOP实现的特殊编译器,发生在类装载期,就要求有一个支持AOP实现的特殊类装载器,只有发生在运行期,则可直接通过Java语言的反射机制与动态代理机制来动态实现.

例子:你去吃饭之前肯定要洗手,饭后肯定要擦嘴;那么,不管你吃什么饭在哪个地方吃,这些通用的过程你都要执行,那么集中抽象出来这些方法,也就形成了AOP.


























































